# 2. í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ë ˆë²¨ë¡œ ë°ì´í„° ì´ê´€

ì†Œìœ ì: ì˜ë‹ˆ

<aside>
ğŸ’¡ ìˆœì„œ

1. PROD DB ì˜ SYSê³„ì •ì—ì„œ ts8100 í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ìƒì„±
2. scottì—ì„œ emp8100í…Œì´ë¸”ì„ PROD DB ìª½ì— ìƒì„±
3. shm2 ë¡œ í…Œì´í‹€ ìŠ¤í˜ì´ìŠ¤ ë ˆë²¨ë¡œ ë°ì´í„° ì´ê´€
</aside>

1. **orcl DBì™€ ASM ì¸ìŠ¤í„´ìŠ¤ë¥¼ ëª¨ë‘ ë‚´ë¦½ë‹ˆë‹¤.(ì‹¤ìŠµ í•˜ë ¤ëŠ” dbë¥¼ ì œì™¸í•˜ê³  ëª¨ë‘ ë‚´ë¦¬ê¸°)**
    - ì˜¬ë¼ì™€ ìˆëŠ”ì§€ í™•ì¸
    
    ```sql
    [PROD:~]$ ps -ef | grep pmon
    oracle    5144     1  0 09:36 ?        00:00:00 ora_pmon_shm
    oracle    5300     1  0 09:37 ?        00:00:00 asm_pmon_+ASM
    oracle    5443     1  0 09:37 ?        00:00:00 ora_pmon_orcl
    oracle   12612  5664  0 10:06 pts/1    00:00:00 grep pmon
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled.png)
    
    - **orcl DB ë‚´ë¦¬ê¸°**
    
    ```sql
    [PROD:~]$ . oraenv
    ORACLE_SID = [PROD] ? orcl
    The Oracle base for ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1 is /u01/app/oracle
    [orcl:~]$
    [orcl:~]$
    [orcl:~]$ ss
    
    SQL*Plus: Release 11.2.0.1.0 Production on Thu Feb 22 10:07:10 2024
    
    Copyright (c) 1982, 2009, Oracle.  All rights reserved.
    
    Connected to:
    Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - Production
    With the Partitioning, Automatic Storage Management, OLAP, Data Mining
    and Real Application Testing options
    
    orcl SYS > shutdown immediate
    Database closed.
    Database dismounted.
    ORACLE instance shut down.
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%201.png)
    
    - **ASM instance ë‚´ë¦¬ê¸°**
    
    ```sql
    [orcl:~]$ . oraenv
    ORACLE_SID = [orcl] ? +ASM
    The Oracle base for ORACLE_HOME=/u01/app/oracle/product/11.2.0/grid is /u01/app/oracle
    
    [+ASM:~]$ sqlplus / as sysasm
    
    SQL*Plus: Release 11.2.0.1.0 Production on Thu Feb 22 10:08:19 2024
    
    Copyright (c) 1982, 2009, Oracle.  All rights reserved.
    
    Connected to:
    Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - Production
    With the Automatic Storage Management option
    
    SQL>
    SQL> shutdown immediate
    ASM diskgroups dismounted
    ASM instance shutdown
    
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%202.png)
    
    - **í™•ì¸í•˜ê¸°**
    
    ```sql
    [+ASM:~]$ ps -ef | grep pmon
    oracle    5144     1  0 09:36 ?        00:00:00 ora_pmon_shm
    oracle   14045  5664  0 10:10 pts/1    00:00:00 grep pmon
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%203.png)
    
    - shmDB ë‚´ë¦¬ê¸°
    
    ```sql
    
    [shm2:~]$ . oraenv
    ORACLE_SID = [shm2] ? shm
    The Oracle base for ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1 is /u01/app/oracle
    [shm:~]$
    [shm:~]$ ss
    
    SQL*Plus: Release 11.2.0.1.0 Production on Thu Feb 22 10:37:25 2024
    
    Copyright (c) 1982, 2009, Oracle.  All rights reserved.
    
    Connected to:
    Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - Production
    With the Partitioning, OLAP, Data Mining and Real Application Testing options
    
    shm SYS >
    shm SYS > shutdown immediate
    Database closed.
    Database dismounted.
    ORACLE instance shut down.
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%204.png)
    
2. **PROD DBì™€ shm2 DB ë¥¼ ì˜¬ë¦½ë‹ˆë‹¤.**
    - **PROD DB ì˜¬ë¦¬ê¸°**
    
    ```sql
    [orcl:~]$ . oraenv
    ORACLE_SID = [orcl] ? PROD
    ORACLE_HOME = [/home/oracle] ? /u01/app/oracle/product/11.2.0/dbhome_1
    The Oracle base for ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1 is /u01/app/oracle
    [PROD:~]$
    [PROD:~]$
    [PROD:~]$
    [PROD:~]$
    [PROD:~]$ ps -ef | grep pmon
    oracle    5144     1  0 09:36 ?        00:00:00 ora_pmon_shm
    oracle   14501  5664  0 10:11 pts/1    00:00:00 grep pmon
    [PROD:~]$
    [PROD:~]$ ss
    
    SQL*Plus: Release 11.2.0.1.0 Production on Thu Feb 22 10:11:49 2024
    
    Copyright (c) 1982, 2009, Oracle.  All rights reserved.
    
    Connected to an idle instance.  ==> ì˜¬ë¼ì˜¤ì§€ ì•Šì€ instanceì— ì ‘ì†í–ˆë‹¤ëŠ” ì˜ë¯¸
    
    PROD SYS >
    PROD SYS > startup
    ORACLE instance started.
    
    Total System Global Area  535662592 bytes
    Fixed Size                  1337720 bytes
    Variable Size             436209288 bytes
    Database Buffers           92274688 bytes
    Redo Buffers                5840896 bytes
    Database mounted.
    Database opened.
    
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%205.png)
    
    - **shm2 DB ì˜¬ë¦¬ê¸°**
    
    ```sql
    
    [orcl:~]$ . oraenv
    ORACLE_SID = [orcl] ? shm2
    ORACLE_HOME = [/home/oracle] ? /u01/app/oracle/product/11.2.0/dbhome_1
    The Oracle base for ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1 is /u01/app/oracle
    [shm2:~]$
    [shm2:~]$
    [shm2:~]$ ss
    
    SQL*Plus: Release 11.2.0.1.0 Production on Thu Feb 22 10:23:52 2024
    
    Copyright (c) 1982, 2009, Oracle.  All rights reserved.
    
    Connected to an idle instance.
    
    shm2 SYS >
    shm2 SYS > startup
    ORACLE instance started.
    
    Total System Global Area  267825152 bytes
    Fixed Size                  1335924 bytes
    Variable Size              92278156 bytes
    Database Buffers          167772160 bytes
    Redo Buffers                6438912 bytes
    Database mounted.
    Database opened.
    
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%206.png)
    
    - í™•ì¸í•˜ê¸°
    
    ```sql
    [shm:~]$ ps -ef | grep pmon
    oracle   14556     1  0 10:11 ?        00:00:00 ora_pmon_PROD
    oracle   19275     1  0 10:23 ?        00:00:00 ora_pmon_shm2
    oracle   24775  5664  0 10:38 pts/1    00:00:00 grep pmon
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%207.png)
    
3. **ì‘ì—… ì „ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼í•  ì‚¬í•­ì„ ì²´í¬í•©ë‹ˆë‹¤.**
    1. PROD DBì™€ shm2 DB ê°„ì˜ character setì´ ì„œë¡œ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤
        - PROD DBì˜ character set í™•ì¸.
        
        ```sql
        @dbp
        ```
        
        ```sql
        PROD SYS > @dbp
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        DICT.BASE                           2
        DEFAULT_TEMP_TABLESPACE             TEMP3
        DEFAULT_PERMANENT_TABLESPACE        EXAMPLE
        DEFAULT_EDITION                     ORA$BASE
        Flashback Timestamp TimeZone        GMT
        TDE_MASTER_KEY_ID
        DBTIMEZONE                          +09:00
        DST_UPGRADE_STATE                   NONE
        DST_PRIMARY_TT_VERSION              11
        DST_SECONDARY_TT_VERSION            0
        DEFAULT_TBS_TYPE                    SMALLFILE
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        NLS_LANGUAGE                        AMERICAN
        NLS_TERRITORY                       AMERICA
        NLS_CURRENCY                        $
        NLS_ISO_CURRENCY                    AMERICA
        NLS_NUMERIC_CHARACTERS              .,
        NLS_CHARACTERSET                    US7ASCII
        NLS_CALENDAR                        GREGORIAN
        NLS_DATE_FORMAT                     DD-MON-RR
        NLS_DATE_LANGUAGE                   AMERICAN
        NLS_SORT                            BINARY
        NLS_TIME_FORMAT                     HH.MI.SSXFF AM
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        NLS_TIMESTAMP_FORMAT                DD-MON-RR HH.MI.SSXFF AM
        NLS_TIME_TZ_FORMAT                  HH.MI.SSXFF AM TZR
        NLS_TIMESTAMP_TZ_FORMAT             DD-MON-RR HH.MI.SSXFF AM
                                            TZR
        
        NLS_DUAL_CURRENCY                   $
        NLS_COMP                            BINARY
        NLS_LENGTH_SEMANTICS                BYTE
        NLS_NCHAR_CONV_EXCP                 FALSE
        NLS_NCHAR_CHARACTERSET              AL16UTF16
        NLS_RDBMS_VERSION                   11.2.0.1.0
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        GLOBAL_DB_NAME                      PROD
        EXPORT_VIEWS_VERSION                8
        WORKLOAD_CAPTURE_MODE
        WORKLOAD_REPLAY_MODE
        NO_USERID_VERIFIER_SALT             9874C0A11FFC8053D22E809A7
                                            CBED71F
        ```
        
        ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%208.png)
        
    
    - shm2 DBì˜ character setí™•ì¸
        
        ```sql
        shm2 SYS > startup
        ORACLE instance started.
        
        Total System Global Area  267825152 bytes
        Fixed Size                  1335924 bytes
        Variable Size              92278156 bytes
        Database Buffers          167772160 bytes
        Redo Buffers                6438912 bytes
        Database mounted.
        Database opened.
        shm2 SYS >
        shm2 SYS > @dbp
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        DICT.BASE                           2
        DEFAULT_TEMP_TABLESPACE             TEMP
        DEFAULT_PERMANENT_TABLESPACE        SYSTEM
        DEFAULT_EDITION                     ORA$BASE
        Flashback Timestamp TimeZone        GMT
        TDE_MASTER_KEY_ID
        DBTIMEZONE                          +09:00
        DST_UPGRADE_STATE                   NONE
        DST_PRIMARY_TT_VERSION              11
        DST_SECONDARY_TT_VERSION            0
        DEFAULT_TBS_TYPE                    SMALLFILE
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        NLS_LANGUAGE                        AMERICAN
        NLS_TERRITORY                       AMERICA
        NLS_CURRENCY                        $
        NLS_ISO_CURRENCY                    AMERICA
        NLS_NUMERIC_CHARACTERS              .,
        NLS_CHARACTERSET                    US7ASCII
        NLS_CALENDAR                        GREGORIAN
        NLS_DATE_FORMAT                     DD-MON-RR
        NLS_DATE_LANGUAGE                   AMERICAN
        NLS_SORT                            BINARY
        NLS_TIME_FORMAT                     HH.MI.SSXFF AM
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        NLS_TIMESTAMP_FORMAT                DD-MON-RR HH.MI.SSXFF AM
        NLS_TIME_TZ_FORMAT                  HH.MI.SSXFF AM TZR
        NLS_TIMESTAMP_TZ_FORMAT             DD-MON-RR HH.MI.SSXFF AM
                                            TZR
        
        NLS_DUAL_CURRENCY                   $
        NLS_COMP                            BINARY
        NLS_LENGTH_SEMANTICS                BYTE
        NLS_NCHAR_CONV_EXCP                 FALSE
        NLS_NCHAR_CHARACTERSET              AL16UTF16
        NLS_RDBMS_VERSION                   11.2.0.1.0
        
        PROPERTY_NAME                       PROPERTY_VALUE
        ----------------------------------- -------------------------
        GLOBAL_DB_NAME                      SHM2
        EXPORT_VIEWS_VERSION                8
        WORKLOAD_CAPTURE_MODE
        WORKLOAD_REPLAY_MODE
        NO_USERID_VERIFIER_SALT             9001F3A321B6113779F49EEB1
                                            E0B6779
        
        36 rows selected.
        ```
        
        ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%209.png)
        
    
4. **PROD DBì—ì„œ ts8100ì´ë¼ëŠ” í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.**
    1. í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ìƒì„±í•  ìœ„ì¹˜ í™•ì¸(ì›í•˜ëŠ” ê²½ë¡œ ê³¨ë¼ì„œ ìƒì„± ì‹œ í™œìš©)
    
    ```sql
    PROD SYS > @tablespace
    
    TABLESPACE STATUS    FILE_NAME
    ---------- --------- -------------------------------------------------------
    SYSTEM     AVAILABLE /u01/app/oracle/oradata/PROD/disk1/system01.dbf
    SYSAUX     AVAILABLE /u01/app/oracle/oradata/PROD/disk2/sysaux01.dbf
    UNDOTBS    AVAILABLE /u01/app/oracle/oradata/PROD/disk4/undotbs01.dbf
    TEST100    AVAILABLE /u01/app/oracle/oradata/PROD/disk1/test100a.dbf
    EXAMPLE    AVAILABLE /u01/app/oracle/oradata/PROD/disk1/example.dbf
    TEST100    AVAILABLE /u01/app/oracle/oradata/PROD/disk1/test100b.dbf
    TEST100    AVAILABLE /u01/app/oracle/oradata/PROD/disk1/test100c.dbf
    TS100      AVAILABLE /u01/app/oracle/oradata/PROD/disk1/ts100.dbf
    SHM        AVAILABLE /home/oracle/shm01.dbf
    INSA01     AVAILABLE /home/oracle/insa01a.dbf
    HR01       AVAILABLE /u01/app/oracle/oradata/PROD/disk1/hr01.dbf
    
    TABLESPACE STATUS    FILE_NAME
    ---------- --------- -------------------------------------------------------
    TS501      AVAILABLE /u01/app/oracle/oradata/PROD/disk1/PROD/datafile/o1_mf_ts501_lwop91gn_.dbf
    TS501      AVAILABLE /u01/app/oracle/oradata/PROD/disk1/PROD/datafile/o1_mf_ts501_lwopk2tw_.dbf
    TEST5000   AVAILABLE /home/oracle/test5000.dbf
    TS7000     AVAILABLE /home/oracle/ts7000.dbf
    INSA02     AVAILABLE /home/oracle/insa02b.dbf
    UNDOTBS7   AVAILABLE /home/oracle/undotbs7a.dbf
    SMALL_UNDO AVAILABLE /home/oracle/small_undo.dbf
    
    TABLESPACE STATUS    FILE_NAME
    ---------- --------- -------------------------------------------------------
    UNDOTBS9   AVAILABLE /home/oracle/undotbs9a.dbf
    SYSTEM     AVAILABLE /u01/app/oracle/oradata/PROD/disk1/system02.dbf
    SYSAUX     AVAILABLE /u01/app/oracle/oradata/PROD/disk2/sysaux02.dbf
    TS50       AVAILABLE /home/oracle/ts50.dbf
    TS5000     AVAILABLE /home/oracle/ts5000.dbf
    EXAMPLE    AVAILABLE /u01/app/oracle/oradata/PROD/disk1/example2.dbf
    EXAMPLE    AVAILABLE /u01/app/oracle/oradata/PROD/disk1/example3.dbf
    
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2010.png)
    
    b. í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ìƒì„±
    
    ```sql
    PROD SYS >
    create tablespace ts8100
    	datafile '/u01/app/oracle/oradata/PROD/disk1/ts8100.dbf' size 5m;
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2011.png)
    
5. **PROD DBì˜ SCOTT ìœ ì €ì—ì„œ ts8100 í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì— emp8100 í…Œì´ë¸”ì„ ìƒì„±í•©ë‹ˆë‹¤.**
    1. SYSì—ì„œ ë§Œë“¤ë©´ ë°ì´í„° ì´ê´€ ì‹œ ì—ëŸ¬ ë°œìƒ
    
    ```sql
    PROD SCOTT >
    
    connect scott/tiger
    
    create table emp8100
    ( empno number(10),
    	ename varchar2(20) )
    tablespace ts8100;
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2012.png)
    
6. **emp8100ì— ë°ì´í„° ì…ë ¥ì„ ë°˜ë³µí•©ë‹ˆë‹¤.**
    
    ```sql
    PROD SCOTT >
    
    insert into emp8100 values(111,'aaa');
    commit;
    insert into emp8100 values(111,'aaa');
    commit;
    insert into emp8100 values(111,'aaa');
    commit;
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2013.png)
    
7. **PROD DBì˜ SYSìœ ì €ì—ì„œ ts8100 í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ read onlyë¡œ ë³€ê²½í•©ë‹ˆë‹¤.**
    1. ë°ì´í„°ë¥¼ ì´ê´€í•˜ëŠ” ê³¼ì •ì—ì„œ ë°ì´í„°ì˜ ë³€ê²½ì´ë‚˜ ì†ìƒì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ read onlyë¡œ ë³€ê²½í•´ì¤˜ì•¼í•¨
    
    ```sql
    PROD SCOTT > connect / as sysdba
    
    PROD SYS >
    alter tablespace ts8100 read only;
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2014.png)
    
    ```sql
    PROD SYS >
    
    select t.name, d.enabled
    	from v$tablespace t, v$datafile d
    	where t.ts# = d.ts#;
    ```
    
    ```sql
    PROD SYS > alter tablespace ts8100 read only;
    
    Tablespace altered.
    
    PROD SYS > select t.name, d.enabled
            from v$tablespace t, v$datafile d
            where t.ts# = d.ts#;  2    3
    
    NAME                           ENABLED
    ------------------------------ ----------
    SYSTEM                         READ WRITE
    SYSAUX                         READ WRITE
    UNDOTBS                        READ WRITE
    TEST100                        READ WRITE
    EXAMPLE                        READ WRITE
    TEST100                        READ WRITE
    TEST100                        READ WRITE
    TS100                          READ WRITE
    SHM                            READ WRITE
    INSA01                         READ WRITE
    HR01                           READ WRITE
    
    NAME                           ENABLED
    ------------------------------ ----------
    TS501                          READ WRITE
    TS501                          READ WRITE
    TEST5000                       READ WRITE
    TS7000                         READ WRITE
    INSA02                         READ WRITE
    UNDOTBS7                       READ WRITE
    SMALL_UNDO                     READ WRITE
    UNDOTBS9                       READ WRITE
    SYSTEM                         READ WRITE
    SYSAUX                         READ WRITE
    TS50                           READ WRITE
    
    NAME                           ENABLED
    ------------------------------ ----------
    TS5000                         READ WRITE
    EXAMPLE                        READ WRITE
    EXAMPLE                        READ WRITE
    TS7100                         READ WRITE
    TS8100                         READ ONLY
    
    27 rows selected.
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2015.png)
    
8. **ts8100 í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ tablesapce ë‹¨ìœ„ë¡œ export í•©ë‹ˆë‹¤.**
    
    ```sql
    $ exp transport_tablespace=y tablespaces=ts8100 file=ts8100.dmp
    
    -----ì´ë ‡ê²Œ ìˆ˜í–‰í•˜ë©´ ìœ ì €ì´ë¦„ê³¼ íŒ¨ìŠ¤ì›Œë“œë¥¼ ë¬¼ì–´ë´…ë‹ˆë‹¤. ------
    ìœ ì €ì´ë¦„ : sys as sysdba
    íŒ¨ìŠ¤ì›Œë“œ : oracle
    ---------------------------------------------------------
    ë”°ë¼ì„œ ìˆ˜í–‰ ì „ì— ìœ ì €ì´ë¦„ê³¼ íŒ¨ìŠ¤ì›Œë“œë¥¼ í™•ì‹¤í•˜ê²Œ ì•Œì•„ë‘¬ì•¼í•¨
    ```
    
    `transport_tablespace=y` : í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ë ˆë²¨ë¡œ ë°ì´í„° ì´ê´€í•˜ëŠ” ì˜µì…˜
    
    ```sql
    [PROD:~]$ exp transport_tablespace=y tablespaces=ts8100 file=ts8100.dmp
    
    Export: Release 11.2.0.1.0 - Production on Thu Feb 22 11:59:22 2024
    
    Copyright (c) 1982, 2009, Oracle and/or its affiliates.  All rights reserved.
    
    Username: sys as sysdba
    Password:  ì•”í˜¸ ì…ë ¥ ë³´ì´ì§€ ì•Šìœ¼ë‹ˆ ì£¼ì˜
    
    Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - Production
    With the Partitioning, OLAP, Data Mining and Real Application Testing options
    Export done in US7ASCII character set and AL16UTF16 NCHAR character set
    Note: table data (rows) will not be exported
    About to export transportable tablespace metadata...
    For tablespace TS8100 ...
    . exporting cluster definitions
    . exporting table definitions
    . . exporting table                        EMP8100
    . exporting referential integrity constraints
    . exporting triggers
    . end transportable tablespace metadata export
    Export terminated successfully without warnings.
    
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2016.png)
    
9. **2ê°œì˜ íŒŒì¼ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.(export íŒŒì¼ê³¼ ts8100.dbf íŒŒì¼) â‡’ ì˜ ìˆëŠ”ì§€ í™•ì¸**
    1. ts8100.dmp : export í•œ ë¤í”„ íŒŒì¼ì´ /home/oracle ì•„ë˜ì— ìˆëŠ”ì§€ë§Œ í™•ì¸í•˜ë©´ ë¨
    2. ts8100.dbf : data file
    
    - ts8100.dmp íŒŒì¼ì€ /home/oracle ë°‘ì— ìˆëŠ”ì§€ë§Œ í™•ì¸í•˜ë©´ ë©ë‹ˆë‹¤
    
    ```sql
    
    [PROD:~]$ ls -l ts8100.dmp
    -rw-r--r-- 1 oracle oinstall 16384  2ì›” 22 11:59 ts8100.dmp
    
    [PROD:~]$ ls -l /u01/app/oracle/oradata/PROD/disk1/ts8100.dbf
    -rw-r----- 1 oracle dba 5251072  2ì›” 22 11:57 /u01/app/oracle/oradata/PROD/disk1/ts8100.dbf
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2017.png)
    
10. **2ê°œì˜ íŒŒì¼ì„ shm2 DB ì˜ ë°ì´í„°ê°€ ìˆëŠ” ë””ë ‰í† ë¦¬ë¡œ copy í•©ë‹ˆë‹¤.**
    1. ts8100.dbfë§Œ ì´ë™!
    2. ts8100.dmpëŠ” localë¡œ í• ê±°ë¼ì„œ ì§ê¿ì´ë‘ í•´ë³¼ê²ƒ. ì´ê¸° ë•Œë¬¸ì—!
    
    ```sql
    $ cp /u01/app/oracle/oradata/PROD/disk1/ts8100.dbf /u01/app/oracle/oradata/shm2/disk1/ts8100.dbf
    
    $ ls -l /u01/app/oracle/oradata/shm2/disk1/ts8100.dbf
    ```
    
    ```sql
    
    [PROD:~]$ cp /u01/app/oracle/oradata/PROD/disk1/ts8100.dbf /u01/app/oracle/oradata/shm2/disk1/ts8100.dbf
    
    [PROD:~]$ ls -l /u01/app/oracle/oradata/shm2/disk1/ts8100.dbf
    -rw-r----- 1 oracle oinstall 5251072  2ì›” 22 12:01 /u01/app/oracle/oradata/shm2/disk1/ts8100.dbf
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2018.png)
    
11. `**.oraenv`ë¡œ instanceë¥¼ shm2 DB ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.**
    
    ```sql
    $ .oraenv
    	ORACLE_SID? shm2	
    ```
    
    ```sql
    [orcl:~]$ . oraenv
    ORACLE_SID = [orcl] ? shm2
    ORACLE_HOME = [/home/oracle] ? /u01/app/oracle/product/11.2.0/dbhome_1
    The Oracle base for ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1 is /u01/app/oracle
    [shm2:~]$
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2019.png)
    
12. **shm2 DBì—ì„œ IMPORT ëª…ë ¹ì–´ë¡œ TABLESPACE LEVELë¡œ IMPORTí•©ë‹ˆë‹¤.**
    1. ëª…ë ¹ì–´ ê°„ê²©ì€ í•œì¹¸ë§Œ ì£¼ê¸°(ë¯¼ê°í•˜ê¸° ë•Œë¬¸)
    2. datafilesì—ëŠ” import ë°›ì„ DBì˜ DATAFILEê²½ë¡œë¥¼ ë„£ì–´ì£¼ë©´ ë¨
    3. scottìœ ì €ê°€ ì—†ìœ¼ë©´ scott ìœ ì €ë¥¼ ìƒì„±í•´ì¤˜ì•¼í•¨. ì—†ìœ¼ë©´ ì—ëŸ¬ ë°œìƒ!(dbaê¶Œí•œë„ ìˆëŠ”ì§€ í™•ì¸)
    
    ```sql
    $ imp transport_tablespace=y file=ts8100.dmp datafiles='/u01/app/oracle/oradata/shm2/disk1/ts8100.dbf'
    
    ---------importí•˜ë©´ shm2 DBì˜ ìœ ì €ì´ë¦„ê³¼ íŒ¨ìŠ¤ì›Œë“œ ë¬¼ì–´ë´„--------------
    ìœ ì €ì´ë¦„ : sys as sysdba
    íŒ¨ìŠ¤ì›Œë“œ : oracle
    --------------------------------------------------------------------
    ```
    
    ```sql
    [shm2:~]$ imp transport_tablespace=y file=ts8100.dmp datafiles='/u01/app/oracle/oradata/shm2/disk1/ts8100.dbf'
    
    Import: Release 11.2.0.1.0 - Production on Thu Feb 22 12:02:52 2024
    
    Copyright (c) 1982, 2009, Oracle and/or its affiliates.  All rights reserved.
    
    Username: sys as sysdba
    Password: ì•”í˜¸ ì…ë ¥ ë³´ì´ì§€ ì•Šìœ¼ë‹ˆ ì£¼ì˜
    
    Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - Production
    With the Partitioning, OLAP, Data Mining and Real Application Testing options
    
    Export file created by EXPORT:V11.02.00 via conventional path
    About to import transportable tablespace(s) metadata...
    import done in US7ASCII character set and AL16UTF16 NCHAR character set
    . importing SYS's objects into SYS
    . importing SYS's objects into SYS
    . importing SCOTT's objects into SCOTT
    . . importing table                      "EMP8100"
    . importing SYS's objects into SYS
    Import terminated successfully without warnings.
    [shm2:~]$
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2020.png)
    
13. **shm2 DBì— IMPORTê°€ ì˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.**
    
    ```sql
    shm2 SYS > @tablespace
    
    TABLESPACE STATUS    FILE_NAME
    ---------- --------- -------------------------------------------------------
    SYSTEM     AVAILABLE /u01/app/oracle/oradata/shm2/disk1/system01.dbf
    SYSAUX     AVAILABLE /u01/app/oracle/oradata/shm2/disk2/sysaux01.dbf
    UNDOTBS    AVAILABLE /u01/app/oracle/oradata/shm2/disk4/undotbs01.dbf
    TS7100     AVAILABLE /u01/app/oracle/oradata/shm2/disk1/ts7100.dbf
    TS8100     AVAILABLE /u01/app/oracle/oradata/shm2/disk1/ts8100.dbf
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2021.png)
    
14. **shm2 DB SYSìœ ì €ì—ì„œ ts7100 í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ read writeë¡œ ë³€ê²½í•©ë‹ˆë‹¤.**
    
    ```sql
    shm2 SYS >
    
    alter tablespace ts8100 read write;
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2022.png)
    

1. **PROD DBì˜ SYSìœ ì €ì—ì„œ ts7100í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ read write ë³€ê²½**
    
    ```sql
    PROD SYS >
    
    alter tablespace ts8100 read write;
    ```
    
    ![Untitled](2%20%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%85%E1%85%A6%E1%84%87%E1%85%A6%E1%86%AF%E1%84%85%E1%85%A9%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%B5%E1%84%80%E1%85%AA%E1%86%AB%2071e17c8e7c8a4c9986b1aad0dcad7881/Untitled%2023.png)